(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(12),c=a.n(o),s=(a(60),a(48)),u=a(6),p=a.n(u),i=a(13),d=a(22),l=a(23),h=a(26),f=a(24),E=a(27),m=a(9),g=a(25),v={GET_DOW_REQUEST:"GET_DOW_REQUEST",GET_DOW_SUCCESS:"GET_DOW_SUCCESS"},O=function(e){return{type:v.GET_DOW_REQUEST,date:e}},y={GET_COORDS_REQUEST:"GET_COORDS_REQUEST",GET_COORDS_SUCCESS:"GET_COORDS_SUCCESS"},C=function(e){return{type:y.GET_COORDS_REQUEST,zip:e}},b={CHANGE_ZIP:"CHANGE_ZIP",GET_ZIP_REQUEST:"GET_ZIP_REQUEST",GET_ZIP_SUCCESS:"GET_ZIP_SUCCESS"},_=function(e){return{type:b.CHANGE_ZIP,payload:e}},S=function(e){return{type:b.GET_ZIP_REQUEST,coords:e}},T={CHANGE_DATE:"CHANGE_DATE"},w=function(e){return{type:T.CHANGE_DATE,payload:e}},j=a(15),D=a(16),x=a.n(D),G=a(29),I=a(51),R=a.n(I),k=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).getGeohash=function(){console.log(a.props);var e=String(parseInt(a.props.coords.lat)),t=String(parseInt(a.props.coords.lng)),r=String(a.props.date)+"-"+String(a.props.data),n=R()(r),o=n.slice(0,n.length/2),c=n.slice(n.length/2),s={lat:e+"."+parseInt(o,16),lng:t+"."+parseInt(c,16)};a.meetupCoords=s},a}return Object(E.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.meetupCoords=this.props.coords}},{key:"componentDidUpdate",value:function(){this.getGeohash()}},{key:"render",value:function(){return console.log(this.props),n.a.createElement("div",null,n.a.createElement(G.Map,{google:this.props.google,center:this.meetupCoords,yesIWantToUseGoogleMapApiInternals:!0,zoom:15},n.a.createElement(G.Marker,{title:"This is your meetup location.",position:this.meetupCoords})))}}]),t}(r.Component),P=Object(G.GoogleApiWrapper)({apiKey:"AIzaSyAquoUs4NfM4dxHs2V2Ja8jxmeYy1Dw9so"})(k),U=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).getDOWOpening=function(){a.props.getDOWRequest(a.props.date)},a.handleDateInput=function(e){a.props.changeDate(e.target.value)},a.doToday=function(){a.props.changeDate(x()().format("YYYY-MM-DD"))},a.handleZIPInput=function(e){a.props.changeZIP(e.target.value)},a.ZIPtoCoordinates=function(){a.props.getCoordsRequest(a.props.zip)},a.coordstoZIP=function(e){a.props.getZIPRequest(e)},a.getBrowserCoordinates=Object(i.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition(a.showBrowserCoordinates);case 2:case"end":return e.stop()}},e,this)})),a.showBrowserCoordinates=function(){var e=Object(i.a)(p.a.mark(function e(t){var r,n,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.coords.latitude;case 2:return r=e.sent,e.next=5,t.coords.longitude;case 5:n=e.sent,o={lat:r,lng:n},a.coordstoZIP(o);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.getMeetupCoordinates=Object(i.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getDOWOpening();case 2:return e.next=4,a.ZIPtoCoordinates();case 4:case"end":return e.stop()}},e,this)})),a}return Object(E.a)(t,e),Object(l.a)(t,[{key:"renderMapContainer",value:function(){return n.a.createElement(m.i,null,n.a.createElement(P,{coords:this.props.coords,data:this.props.data,date:this.props.date}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",null,n.a.createElement(m.i,null,n.a.createElement(m.f,{sm:"4",md:"4",lg:"4"}),n.a.createElement(m.f,{sm:"4",md:"4",lg:"4"},n.a.createElement(m.b,null,n.a.createElement(m.e,null," XKCD Geohashing"),n.a.createElement(m.d,null,"xkcd.com/426"),n.a.createElement(m.c,null,n.a.createElement(m.g,null,n.a.createElement(m.h,{type:"date",onChange:this.handleDateInput,max:x()().format("YYYY-MM-DD"),defaultValue:"",value:this.props.date}),n.a.createElement(m.a,{color:"primary",onClick:this.getDOWOpening}," Get DOW Data "),n.a.createElement("u",{color:"secondary",onClick:this.doToday}," Or just use today's date.")),n.a.createElement("p",null," The most recent DOW opening for that day is ",this.props.data," "),n.a.createElement(m.g,null,n.a.createElement(m.h,Object(s.a)({onChange:this.handleZIPInput,maxLength:"9",defaultValue:"",value:this.props.zip},"defaultValue","Enter your ZIP")),n.a.createElement(m.a,{color:"primary",onClick:this.ZIPtoCoordinates}," Set Location ")),n.a.createElement("p",null," Your meetup coordinates are ",this.props.coords.lat," \xb0N, ",this.props.coords.lng,"\xb0E"),n.a.createElement(m.g,null,n.a.createElement(m.a,{color:"primary",onClick:this.getMeetupCoordinates},"Compute Meetup Coordinates"))))),n.a.createElement(m.f,{sm:"4",md:"4",lg:"4"})),this.renderMapContainer()))}}]),t}(n.a.Component);var Z=Object(g.b)(function(e){return{data:e.dowReducer.data,date:e.dateReducer.date,zip:e.ZIPReducer.zip,coords:e.coordsReducer.coords}},function(e){return Object(j.b)({getDOWRequest:O,changeDate:w,changeZIP:_,getCoordsRequest:C,getZIPRequest:S},e)})(U),A={data:["not yet retrieved"],date:x()().format("YYYY-MM-DD"),zip:10010,coords:{lat:40.7128,lng:74.006}};var M={CHANGE_MEETUP:"CHANGE_MEETUP"};var Y=Object(j.c)({dowReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.GET_DOW_SUCCESS:return{data:t.payload};default:return e}},dateReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.CHANGE_DATE:return{date:t.payload};default:return e}},ZIPReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.CHANGE_ZIP:return{zip:t.payload};case b.GET_ZIP_REQUEST:return{coords:t.payload};default:return e}},coordsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.GET_COORDS_SUCCESS:return console.log("successful coordsReducer call"),console.log(t.payload),{coords:t.payload};default:return e}},meetupReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.CHANGE_MEETUP:return{meetup:t.payload};default:return e}}}),W=a(18),N=a.n(W),H=a(54),Q=a(30),z=a(7),q=a(53),B=a.n(q);function J(e){return V.apply(this,arguments)}function V(){return(V=Object(i.a)(p.a.mark(function e(t){var a,r,n,o,c,s,u,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x()(t),r=x()().format("YYYY-MM-DD"),n=-1*a.diff(r,"days")+1,o={method:"GET",url:"https://twelve-data1.p.rapidapi.com/time_series",params:{symbol:"DJI",interval:"1day",outputsize:n,format:"json"},headers:{"x-rapidapi-key":"cc072cf6a1mshca7a9fff5bd7131p175ba7jsne97460d453d2","x-rapidapi-host":"twelve-data1.p.rapidapi.com"}},e.next=6,N.a.request(o);case 6:return c=e.sent,s=c.data.values,u=a,6===a.day()?u=a.subtract(1,"days"):0===a.day()&&(u=a.subtract(2,"days")),i=B.a.find(s,{datetime:x()(u).format("YYYY-MM-DD")}),e.abrupt("return",i.open);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var L=p.a.mark(X),K=p.a.mark(F);function X(e){var t;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(z.b)(J,e.date);case 3:return t=a.sent,console.log(t),a.next=7,Object(z.d)({type:v.GET_DOW_SUCCESS,payload:t});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("error");case 12:case"end":return a.stop()}},L,this,[[0,9]])}function F(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.f)(v.GET_DOW_REQUEST,X);case 2:case"end":return e.stop()}},K,this)}var $=[Object(z.c)(F)];function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(i.a)(p.a.mark(function e(t){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a={method:"GET",url:"https://google-maps-geocoding.p.rapidapi.com/geocode/json",params:{address:""+t,language:"en"},headers:{"x-rapidapi-key":"cc072cf6a1mshca7a9fff5bd7131p175ba7jsne97460d453d2","x-rapidapi-host":"google-maps-geocoding.p.rapidapi.com"}},e.next=4,N.a.request(a);case 4:return r=e.sent,console.log(r.data.results[0].geometry.location),e.abrupt("return",r.data.results[0].geometry.location);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ae=p.a.mark(ne),re=p.a.mark(oe);function ne(e){var t;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(z.b)(ee,e.zip);case 3:return t=a.sent,a.next=6,Object(z.d)({type:y.GET_COORDS_SUCCESS,payload:t});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error");case 11:case"end":return a.stop()}},ae,this,[[0,8]])}function oe(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.f)(y.GET_COORDS_REQUEST,ne);case 2:case"end":return e.stop()}},re,this)}var ce=[Object(z.c)(oe)];function se(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(i.a)(p.a.mark(function e(t){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://google-maps-geocoding.p.rapidapi.com/geocode/json",params:{address:t.lat+","+t.lng,language:"en"},headers:{"x-rapidapi-key":"cc072cf6a1mshca7a9fff5bd7131p175ba7jsne97460d453d2","x-rapidapi-host":"google-maps-geocoding.p.rapidapi.com"}},e.next=3,N.a.request(a);case 3:return r=e.sent,e.abrupt("return",r.data.results[0].address_components[7].long_name);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var pe=p.a.mark(de),ie=p.a.mark(le);function de(e){var t;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(z.b)(se,e.coords);case 3:return t=a.sent,a.next=6,Object(z.d)({type:b.CHANGE_ZIP,payload:t});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error");case 11:case"end":return a.stop()}},pe,this,[[0,8]])}function le(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(b.GET_ZIP_REQUEST,de);case 2:case"end":return e.stop()}},ie,this)}var he=[Object(z.c)(le)],fe=p.a.mark(Ee);function Ee(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.a)([].concat(Object(Q.a)($),Object(Q.a)(ce),Object(Q.a)(he)));case 2:case"end":return e.stop()}},fe,this)}a(108);var me=Object(H.a)();N.a.defaults.baseURL="http://api.marketstack.com/v1";var ge=Object(j.d)(Y,Object(j.a)(me));me.run(Ee),c.a.render(n.a.createElement(g.a,{store:ge},n.a.createElement(Z,null)),document.getElementById("root"))},55:function(e,t,a){e.exports=a(110)},60:function(e,t,a){}},[[55,2,1]]]);
//# sourceMappingURL=main.9c12210f.chunk.js.map