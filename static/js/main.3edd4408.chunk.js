(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(12),c=a.n(o),s=(a(59),a(6)),i=a.n(s),u=a(13),p=a(22),d=a(23),l=a(26),h=a(24),f=a(27),E=a(8),g=a(25),m={GET_DOW_REQUEST:"GET_DOW_REQUEST",GET_DOW_SUCCESS:"GET_DOW_SUCCESS"},v=function(e){return{type:m.GET_DOW_REQUEST,date:e}},O={GET_COORDS_REQUEST:"GET_COORDS_REQUEST",GET_COORDS_SUCCESS:"GET_COORDS_SUCCESS"},y=function(e){return{type:O.GET_COORDS_REQUEST,zip:e}},C={CHANGE_ZIP:"CHANGE_ZIP",GET_ZIP_REQUEST:"GET_ZIP_REQUEST",GET_ZIP_SUCCESS:"GET_ZIP_SUCCESS"},b=function(e){return{type:C.CHANGE_ZIP,payload:e}},_=function(e){return{type:C.GET_ZIP_REQUEST,coords:e}},S={CHANGE_DATE:"CHANGE_DATE"},w=function(e){return{type:S.CHANGE_DATE,payload:e}},T=a(15),j=a(16),x=a.n(j),D=a(29),G=a(50),I=a.n(G),R=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).getGeohash=function(){console.log(a.props);var e=String(parseInt(a.props.coords.lat)),t=String(parseInt(a.props.coords.lng)),r=String(a.props.date)+"-"+String(a.props.data),n=I()(r),o=n.slice(0,n.length/2),c=n.slice(n.length/2),s={lat:e+"."+parseInt(o,16),lng:t+"."+parseInt(c,16)};a.meetupCoords=s},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.meetupCoords=this.props.coords}},{key:"componentDidUpdate",value:function(){this.getGeohash()}},{key:"render",value:function(){return console.log(this.props),n.a.createElement("div",null,n.a.createElement(D.Map,{google:this.props.google,center:this.meetupCoords,yesIWantToUseGoogleMapApiInternals:!0,zoom:15},n.a.createElement(D.Marker,{title:"This is your meetup location.",position:this.meetupCoords})))}}]),t}(r.Component),k=Object(D.GoogleApiWrapper)({apiKey:"AIzaSyAquoUs4NfM4dxHs2V2Ja8jxmeYy1Dw9so"})(R),U=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).getDOWOpening=function(){a.props.getDOWRequest(a.props.date)},a.handleDateInput=function(e){a.props.changeDate(e.target.value)},a.doToday=function(){a.props.changeDate(x()().format("YYYY-MM-DD"))},a.handleZIPInput=function(e){a.props.changeZIP(e.target.value)},a.ZIPtoCoordinates=function(e){a.props.getCoordsRequest(a.props.zip)},a.coordstoZIP=function(e){a.props.getZIPRequest(e)},a.getBrowserCoordinates=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition(a.showBrowserCoordinates);case 2:case"end":return e.stop()}},e,this)})),a.showBrowserCoordinates=function(){var e=Object(u.a)(i.a.mark(function e(t){var r,n,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.coords.latitude;case 2:return r=e.sent,e.next=5,t.coords.longitude;case 5:n=e.sent,o={lat:r,lng:n},a.coordstoZIP(o);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.getMeetupCoordinates=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getDOWOpening();case 2:return e.next=4,a.ZIPtoCoordinates();case 4:return e.next=6,a.renderMapContainer();case 6:case"end":return e.stop()}},e,this)})),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"renderMapContainer",value:function(){return n.a.createElement(E.i,null,n.a.createElement(k,{coords:this.props.coords,data:this.props.data,date:this.props.date}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",null,n.a.createElement(E.i,null,n.a.createElement(E.f,{sm:"4",md:"4",lg:"4"}),n.a.createElement(E.f,{sm:"4",md:"4",lg:"4"},n.a.createElement(E.b,null,n.a.createElement(E.e,null,"XKCD Geohashing"),n.a.createElement(E.d,null,"inspired by xkcd.com/426"),n.a.createElement(E.c,null,n.a.createElement(E.g,null,n.a.createElement(E.h,{type:"date",onChange:this.handleDateInput,max:x()().format("YYYY-MM-DD"),defaultValue:"",value:this.props.date}),n.a.createElement(E.a,{color:"primary",onClick:this.getDOWOpening},"Get DOW Opening"),n.a.createElement("u",{color:"secondary",onClick:this.doToday}," Or just use today's date.")),n.a.createElement("p",null," The most recent DOW opening for that day is ",this.props.data," "),n.a.createElement(E.g,null,n.a.createElement(E.h,{onChange:this.handleZIPInput,maxLength:"9",defaultValue:"",value:this.props.zip}),n.a.createElement(E.a,{color:"primary",onClick:this.ZIPtoCoordinates},"Get Coordinates"),n.a.createElement(E.a,{color:"secondary",onClick:this.getBrowserCoordinates},"Get location from browser instead")),n.a.createElement(E.g,null,n.a.createElement(E.a,{color:"primary",onClick:this.getMeetupCoordinates},"Get Meetup Coordinates"))))),n.a.createElement(E.f,{sm:"4",md:"4",lg:"4"})),this.renderMapContainer()))}}]),t}(n.a.Component);var P=Object(g.b)(function(e){return{data:e.dowReducer.data,date:e.dateReducer.date,zip:e.ZIPReducer.zip,coords:e.coordsReducer.coords}},function(e){return Object(T.b)({getDOWRequest:v,changeDate:w,changeZIP:b,getCoordsRequest:y,getZIPRequest:_},e)})(U),Z={data:["not yet retrieved"],date:x()().format("YYYY-MM-DD"),zip:10010,coords:{lat:41.9404,lng:-87.6532}};var M={CHANGE_MEETUP:"CHANGE_MEETUP"};var A=Object(T.c)({dowReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.GET_DOW_SUCCESS:return{data:t.payload};default:return e}},dateReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.CHANGE_DATE:return{date:t.payload};default:return e}},ZIPReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.CHANGE_ZIP:return{zip:t.payload};case C.GET_ZIP_REQUEST:return{coords:t.payload};default:return e}},coordsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.GET_COORDS_SUCCESS:return console.log("successful coordsReducer call"),console.log(t.payload),{coords:t.payload};default:return e}},meetupReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.CHANGE_MEETUP:return{meetup:t.payload};default:return e}}}),Y=a(18),W=a.n(Y),N=a(53),H=a(30),Q=a(7),z=a(52),q=a.n(z);function B(e){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(i.a.mark(function e(t){var a,r,n,o,c,s,u,p;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x()(t),r=x()().format("YYYY-MM-DD"),n=-1*a.diff(r,"days")+1,o={method:"GET",url:"https://twelve-data1.p.rapidapi.com/time_series",params:{symbol:"DJI",interval:"1day",outputsize:n,format:"json"},headers:{"x-rapidapi-key":"cc072cf6a1mshca7a9fff5bd7131p175ba7jsne97460d453d2","x-rapidapi-host":"twelve-data1.p.rapidapi.com"}},e.next=6,W.a.request(o);case 6:return c=e.sent,s=c.data.values,u=a,6===a.day()?u=a.subtract(1,"days"):0===a.day()&&(u=a.subtract(2,"days")),p=q.a.find(s,{datetime:x()(u).format("YYYY-MM-DD")}),e.abrupt("return",p.open);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var V=i.a.mark(L),K=i.a.mark(X);function L(e){var t;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Q.b)(B,e.date);case 3:return t=a.sent,console.log(t),a.next=7,Object(Q.d)({type:m.GET_DOW_SUCCESS,payload:t});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("error");case 12:case"end":return a.stop()}},V,this,[[0,9]])}function X(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(m.GET_DOW_REQUEST,L);case 2:case"end":return e.stop()}},K,this)}var F=[Object(Q.c)(X)];function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(u.a)(i.a.mark(function e(t){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a={method:"GET",url:"https://google-maps-geocoding.p.rapidapi.com/geocode/json",params:{address:""+t,language:"en"},headers:{"x-rapidapi-key":"cc072cf6a1mshca7a9fff5bd7131p175ba7jsne97460d453d2","x-rapidapi-host":"google-maps-geocoding.p.rapidapi.com"}},e.next=4,W.a.request(a);case 4:return r=e.sent,console.log(r.data.results[0].geometry.location),e.abrupt("return",r.data.results[0].geometry.location);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var te=i.a.mark(re),ae=i.a.mark(ne);function re(e){var t;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Q.b)($,e.zip);case 3:return t=a.sent,a.next=6,Object(Q.d)({type:O.GET_COORDS_SUCCESS,payload:t});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error");case 11:case"end":return a.stop()}},te,this,[[0,8]])}function ne(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(O.GET_COORDS_REQUEST,re);case 2:case"end":return e.stop()}},ae,this)}var oe=[Object(Q.c)(ne)];function ce(e){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(i.a.mark(function e(t){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://google-maps-geocoding.p.rapidapi.com/geocode/json",params:{address:t.lat+","+t.lng,language:"en"},headers:{"x-rapidapi-key":"cc072cf6a1mshca7a9fff5bd7131p175ba7jsne97460d453d2","x-rapidapi-host":"google-maps-geocoding.p.rapidapi.com"}},e.next=3,W.a.request(a);case 3:return r=e.sent,e.abrupt("return",r.data.results[0].address_components[7].long_name);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ie=i.a.mark(pe),ue=i.a.mark(de);function pe(e){var t;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Q.b)(ce,e.coords);case 3:return t=a.sent,a.next=6,Object(Q.d)({type:C.CHANGE_ZIP,payload:t});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error");case 11:case"end":return a.stop()}},ie,this,[[0,8]])}function de(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(C.GET_ZIP_REQUEST,pe);case 2:case"end":return e.stop()}},ue,this)}var le=[Object(Q.c)(de)],he=i.a.mark(fe);function fe(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)([].concat(Object(H.a)(F),Object(H.a)(oe),Object(H.a)(le)));case 2:case"end":return e.stop()}},he,this)}a(107);var Ee=Object(N.a)();W.a.defaults.baseURL="http://api.marketstack.com/v1";var ge=Object(T.d)(A,Object(T.a)(Ee));Ee.run(fe),c.a.render(n.a.createElement(g.a,{store:ge},n.a.createElement(P,null)),document.getElementById("root"))},54:function(e,t,a){e.exports=a(109)},59:function(e,t,a){}},[[54,2,1]]]);
//# sourceMappingURL=main.3edd4408.chunk.js.map