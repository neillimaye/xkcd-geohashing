{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Neil/Projects/xkcd-geohashing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Neil/Projects/xkcd-geohashing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//this code does a little more than an API call\n//quandl wouldn't let me look at any information past 2017, which is great\n//IF YOU'RE A STOCKBROKER WITH A FUCKING TIME MACHINE\nimport axios from 'axios';\nimport moment from 'moment'; // ${moment().subtract(2, \"days\")}\n// ${moment()}\n// const quandlAPIKey = 'Ywd3Gtx2oyyN_Ma3exrG';\n// const alphaVantageAPIKey = 'H96XWBT1J9Y9RN4R';\n\nvar marketStackAPIKey = 'e4a78d676f391288ed0a91c0c3dcacb0';\nexport function getDOW(_x) {\n  return _getDOW.apply(this, arguments);\n}\n\nfunction _getDOW() {\n  _getDOW = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(date) {\n    var end_date, start_date, DOWDataQuery, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // code below is to verify that I can manipulate the given date properly to put into the API qrequest\n            // console.log('api date')\n            // console.log((date.date))\n            // console.log(moment(date.date).subtract(2,\"days\").format('YYYY-MM-DD'))\n            end_date = moment(date.date).format('YYYY-MM-DD');\n            start_date = moment(date.date).subtract(3, \"days\").format('YYYY-MM-DD'); // console.log(end_date)\n            // console.log(start_date)\n            // for the alphavantage API -\n            // let DOWDataQuery =  `query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=DOW&outputsize=full&apikey=${alphaVantageAPIKey}`\n            // for the quandl API\n            // let DOWDataQuery = `WIKI/DOW.json?collapse=daily&start_date=2020-12-14&end_date=2020-12-16&api_key=Ywd3Gtx2oyyN_Ma3exrG`\n            // for the worldmarket API\n\n            DOWDataQuery = \"eod?access_key=\".concat(marketStackAPIKey, \"&symbols=DOW&date_from=\").concat(start_date, \"&date_to=\").concat(end_date); //adjusted so that weekends don't cause the system to return\n\n            _context.next = 5;\n            return axios.get(DOWDataQuery);\n\n          case 5:\n            data = _context.sent;\n            console.log(data.data.data);\n            return _context.abrupt(\"return\", data);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _getDOW.apply(this, arguments);\n}\n\n;","map":{"version":3,"sources":["/Users/Neil/Projects/xkcd-geohashing/src/api/dow.js"],"names":["axios","moment","marketStackAPIKey","getDOW","date","end_date","format","start_date","subtract","DOWDataQuery","get","data","console","log"],"mappings":";;AAAA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB,C,CAEA;AACA;AACA;AACA;;AACA,IAAMC,iBAAiB,GAAG,kCAA1B;AAEA,gBAAsBC,MAAtB;AAAA;AAAA;;;;;2BAAO,iBAAsBC,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AACL;AACA;AACA;AACA;AACIC,YAAAA,QALC,GAKUJ,MAAM,CAACG,IAAI,CAACA,IAAN,CAAN,CAAkBE,MAAlB,CAAyB,YAAzB,CALV;AAMDC,YAAAA,UANC,GAMaN,MAAM,CAACG,IAAI,CAACA,IAAN,CAAN,CAAkBI,QAAlB,CAA2B,CAA3B,EAA6B,MAA7B,EAAqCF,MAArC,CAA4C,YAA5C,CANb,EAOL;AACA;AACA;AACA;AACA;AACA;AACA;;AACIG,YAAAA,YAdC,4BAcgCP,iBAdhC,oCAc2EK,UAd3E,sBAciGF,QAdjG,GAeL;;AAfK;AAAA,mBAgBYL,KAAK,CAACU,GAAN,CAAUD,YAAV,CAhBZ;;AAAA;AAgBDE,YAAAA,IAhBC;AAiBLC,YAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACA,IAAL,CAAUA,IAAtB;AAjBK,6CAkBEA,IAlBF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAmBN","sourcesContent":["//this code does a little more than an API call\n//quandl wouldn't let me look at any information past 2017, which is great\n//IF YOU'RE A STOCKBROKER WITH A FUCKING TIME MACHINE\n\nimport axios from 'axios';\nimport moment from 'moment'\n\n// ${moment().subtract(2, \"days\")}\n// ${moment()}\n// const quandlAPIKey = 'Ywd3Gtx2oyyN_Ma3exrG';\n// const alphaVantageAPIKey = 'H96XWBT1J9Y9RN4R';\nconst marketStackAPIKey = 'e4a78d676f391288ed0a91c0c3dcacb0';\n\nexport async function getDOW(date){\n  // code below is to verify that I can manipulate the given date properly to put into the API qrequest\n  // console.log('api date')\n  // console.log((date.date))\n  // console.log(moment(date.date).subtract(2,\"days\").format('YYYY-MM-DD'))\n  let end_date = moment(date.date).format('YYYY-MM-DD');\n  let start_date = (moment(date.date).subtract(3,\"days\").format('YYYY-MM-DD'))\n  // console.log(end_date)\n  // console.log(start_date)\n  // for the alphavantage API -\n  // let DOWDataQuery =  `query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=DOW&outputsize=full&apikey=${alphaVantageAPIKey}`\n  // for the quandl API\n  // let DOWDataQuery = `WIKI/DOW.json?collapse=daily&start_date=2020-12-14&end_date=2020-12-16&api_key=Ywd3Gtx2oyyN_Ma3exrG`\n  // for the worldmarket API\n  let DOWDataQuery = `eod?access_key=${marketStackAPIKey}&symbols=DOW&date_from=${start_date}&date_to=${end_date}`\n  //adjusted so that weekends don't cause the system to return\n  let data = await axios.get(DOWDataQuery)\n  console.log(data.data.data)\n  return data;\n};\n"]},"metadata":{},"sourceType":"module"}